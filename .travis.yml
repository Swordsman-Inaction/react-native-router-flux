language: node_js
node_js:
  - "6"
os:
  - osx
cache:
  - yarn
  - directories:
    - "$TRAVIS_BUILD_DIR/Example/node_modules"

notifications:
  email: false

branches:
  only:
    - master
    - ci-test
before_install:
  - export YARN_GPG=no
install:
  - curl -o- -L https://yarnpkg.com/install.sh | bash
after_install:
  - export PATH=$HOME/.yarn/bin:$PATH

before_script:
  - cd Example && yarn && cd ..
  - yarn

script:
  - node node_modules/eslint/bin/eslint index.js src/ test/
  - yarn test
  - cd Example && yarn run jest && cd ..
